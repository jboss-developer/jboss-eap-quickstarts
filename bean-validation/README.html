<h1>bean-validation: Bean Validation via Arquillian Example</h1>
<p>Author: Karel Piwko <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#107;&#112;&#105;&#119;&#107;&#111;&#64;&#114;&#101;&#100;&#104;&#97;&#116;&#46;&#99;&#111;&#109;">&#107;&#112;&#105;&#119;&#107;&#111;&#64;&#114;&#101;&#100;&#104;&#97;&#116;&#46;&#99;&#111;&#109;</a></p>
<h2>What is it?</h2>
<p>This is your project! It's a sample, Maven 3 project to help you
get your foot in the door developing with Java EE 6 on JBoss AS 7 or JBoss Enterprise Application Platform 6. 
This project is setup to allow you to use CDI 1.0, JPA 2.0 and Bean Validation 1.0. 
It includes a persistence unit and some sample persistence code to help 
you get your feet wet with database access in enterprise Java. </p>
<p>It does not contain an user interface layer. The main purpose of the project is 
to show you how to test Bean Validation with Arquillian. If you want to see an
example how to test Bean Validation via an user interface, check out Kitchensink
example available at <a href="https://github.com/jbossas/quickstart/tree/master/kitchensink">https://github.com/jbossas/quickstart/tree/master/kitchensink</a>.</p>
<h2>System requirements</h2>
<p>All you need to build this project is Java 6.0 (Java SDK 1.6) or better, Maven
3.0 or better.</p>
<h2>Running the Arquillian tests</h2>
<p>By default, tests are configured to be skipped. The reason is that the sample
test is an Arquillian test, which requires the use of a container. You can select either
managed or remote container, the difference is that the remote one requires a running JBoss AS 7 / 
JBoss Enterprise Application Platform 6 instance prior executing tests.</p>
<p><strong>Testing on Remote Server</strong></p>
<p>First you need to start JBoss AS 7 or JBoss Enterprise Application Platform 6 instance. To do this, run</p>
<pre><code>$JBOSS_HOME/bin/standalone.sh
</code></pre>
<p>or if you are using windows</p>
<pre><code>$JBOSS_HOME/bin/standalone.bat
</code></pre>
<p>Once the instance is started, run the test goal with the following profile activated:</p>
<pre><code>mvn clean test -Parq-jbossas-remote
</code></pre>
<p><strong>Testing on Managed Server</strong></p>
<p>Arquillian will start the container for you. All you have to do is setup a path to your JBoss AS7 or JBoss
Enterprise Application Platform 6. To do this, run</p>
<pre><code>export JBOSS_HOME=/path/to/jboss-as
</code></pre>
<p>or if you are using Windows</p>
<pre><code>set JBOSS_HOME=X:\path\to\jboss-as
</code></pre>
<p>To run the test in JBoss AS 7 or JBoss EAP 6, run the test goal with the following profile activated:</p>
<pre><code>mvn clean test -Parq-jbossas-managed
</code></pre>
<p><strong>Investigating console output</strong></p>
<p>JUnit will present you test report summary:</p>
<pre><code>Tests run: 5, Failures: 0, Errors: 0, Skipped: 0
</code></pre>
<p>If you are interested in more details, check <code>target/surefire-reports</code> directory. 
You can check console output to verify that Arquillian had really used the real application server. 
Search for lines similar to the following ones in the server output log:</p>
<pre><code> [timestamp] INFO [org.jboss.as.server.deployment] (MSC service thread 1-2) Starting deployment of "test.war"
 ...
 [timestamp] INFO [org.jboss.as.server] (management-handler-threads - 1) JBAS018559: Deployed "test.war"
 ...
 [timestamp] INFO [org.jboss.as.server.deployment] (MSC service thread 1-3) Stopped deployment test.war in 48ms
 ...
 [timestamp] INFO [org.jboss.as.server] (management-handler-threads - 1) JBAS018558: Undeployed "test.war
</code></pre>