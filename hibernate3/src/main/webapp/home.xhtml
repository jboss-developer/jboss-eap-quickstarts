<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:f="http://java.sun.com/jsf/core">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Hibernate3</title>
</head>

<body>
   <div id="content">
      <h1>Guess a number...</h1>
      <h:form id="numberGuess">

         <!-- Feedback for the user on their guess -->
         <div style="color: red">
            <h:messages id="messages" globalOnly="false" />
            <h:outputText id="Higher" value="Higher!"
               rendered="#{game.number gt game.guess and game.guess ne 0}" />
            <h:outputText id="Lower" value="Lower!"
               rendered="#{game.number lt game.guess and game.guess ne 0}" />
         </div>

         <!-- Instructions for the user -->
         <div>
            I'm thinking of a number between <span
               id="numberGuess:smallest">#{game.smallest}</span> and <span
               id="numberGuess:biggest">#{game.biggest}</span>. You have
            #{game.remainingGuesses} guesses remaining.
         </div>

         <!-- Input box for the users guess, plus a button to submit, and reset -->
         <!-- These are bound using EL to our CDI beans -->
         <div>
            Your guess:
            <h:inputText id="inputGuess" value="#{game.guess}"
               required="true" size="3"
               disabled="#{game.number eq game.guess}"
               validator="#{game.validateNumberRange}" />
            <h:commandButton id="guessButton" value="Guess"
               action="#{game.check}"
               disabled="#{game.number eq game.guess}" />
         </div>
         <div>
            <h:commandButton id="restartButton" value="Reset"
               action="#{game.reset}" immediate="true" />
         </div>
      </h:form>
      <div>
	      <h:dataTable id="history" value="#{game.history}" var="item" bgcolor="#F1F1F1" border="10" cellpadding="5" cellspacing="3" first="0"  width="50%" dir="LTR" frame="hsides" rules="all"  >
	
			<f:facet name="header">
			  <h:outputText value="Your game history" />
			</f:facet> 
			
			<h:column>
              <f:facet name="header">
              <h:outputText value="ID" />
              </f:facet> 
               <h:outputText value="#{item.id}"></h:outputText>
            </h:column>
            <h:column>
              <f:facet name="header">
              <h:outputText value="Time" />
              </f:facet> 
               <h:outputText value="#{item.time}"></h:outputText>
            </h:column>
            <h:column>
              <f:facet name="header">
              <h:outputText value="Guess" />
              </f:facet> 
               <h:outputText value="#{item.guess}"></h:outputText>
            </h:column>
            <h:column>
              <f:facet name="header">
              <h:outputText value="Lower Boundyr" />
              </f:facet> 
               <h:outputText value="#{item.smallest}"></h:outputText>
            </h:column>
            <h:column>
              <f:facet name="header">
              <h:outputText value="Higher Boundry" />
              </f:facet> 
               <h:outputText value="#{item.biggest}"></h:outputText>
            </h:column>
            <h:column>
              <f:facet name="header">
              <h:outputText value="Remaining" />
              </f:facet> 
               <h:outputText value="#{item.remainingGuesses}"></h:outputText>
            </h:column>
            <h:column>
              <f:facet name="header">
              <h:outputText value="Success" />
              </f:facet> 
               <h:outputText value="#{item.success}"></h:outputText>
            </h:column>
	      </h:dataTable>
      </div>
   </div>

   <br style="clear: both" />

</body>
</html>
