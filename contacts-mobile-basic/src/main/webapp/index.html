<!--
    JBoss, Home of Professional Open Source
    Copyright 2014, Red Hat, Inc. and/or its affiliates, and individual
    contributors by the @authors tag. See the copyright.txt in the
    distribution for a full listing of individual contributors.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at
    http://www.apache.org/licenses/LICENSE-2.0
    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="ISO-8859-1">
    <title>Contacts</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/jquery.mobile-1.3.2.css" type="text/css" media="all" />
<!--     <link rel="stylesheet" href="css/jquery.mobile-1.3.2.min.css" type="text/css" media="all" /> -->
<!--     <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" /> -->
    
    <!-- This is the CSS for the Validation plugin. -->
    <link rel="stylesheet" href="css/app.css" type="text/css" media="all" />     
    <link rel="stylesheet" href="css/validator.css" type="text/css" media="all" />     
    
    <!-- Import jQuery so that it can be used by the custom JavaScript -->
    <script src="js/libs/jquery-1.9.1.js"></script>
<!--     <script src="js/libs/jquery-1.9.1.min.js"></script> -->
<!--     <script src="http://code.jquery.com/jquery-1.9.1.js"></script> -->
    
    <!-- Import the custom JavaScript -->
    <script src="js/namespace.js"></script>
    <script src="js/util.js"></script>
    <script src="js/formSetup.js"></script>
    <script src="js/app.js"></script>
    <script src="js/validation.js"></script>
    <script src="js/submissions.js"></script>
    
    <!-- Mobile browsers do not support HTML5 form validation, this lib provides client side validation. -->
    <script src="js/libs/jquery.validate-1.11.1.js"></script>
<!--     <script src="js/libs/jquery.validate-1.11.1.min.js"></script> -->
<!--     <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.js"></script> -->
    <script src="js/libs/additional-methods-1.11.1.js"></script>
<!--     <script src="js/libs/additional-methods-1.11.1.min.js"></script> -->
<!--     <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/additional-methods.js"></script> -->
    
    <!-- Because the mobileinit event is triggered immediately, you'll need to bind your event handler 
         before jQuery Mobile is loaded. 
         Unlike other jQuery projects, such as jQuery and jQuery UI, jQuery Mobile automatically applies 
         many markup enhancements as soon as it loads (long before the document.ready event fires). 
         Therefore call the jQuery Mobile code last. -->
    <script src="js/libs/jquery.mobile-1.3.2.js"></script>
<!--     <script src="js/libs/jquery.mobile-1.3.2.min.js"></script> -->
<!--     <script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.js"></script> -->
    
</head>
<body>
    <!-- This is the main list.  It is just names. -->
    <!-- It is worth noting that in a jQuery Mobile app, only the first "page" is loaded & displayed. 
          The following/other pages will be partially loaded.  Just their "divs." -->
    <div data-role="page" id="contacts-list-page" data-theme="b" data-url="/jboss-contacts-mobile-basic/">
        <div data-role="panel" id="contacts-list-page-menu-panel">
            <ul data-role="listview" id="contacts-list-page-menu-panel-listview">
                <li><a href="#contacts-add-page">Add Contact</a></li>
                <li><a href="#contacts-detail-list-page">Detailed List</a></li>
                <li><a href="#about-page">About</a></li>
            </ul>
        </div>
        <div data-role="header" data-position="fixed" data-theme="b">
            <a href="#contacts-list-page-menu-panel" id="contacts-list-page-menu-button" data-role="button" data-icon="bars" data-iconpos="notext" data-mini="true" data-inline="true">Menu</a>
            <h1>Contacts</h1>
            <a href="#contacts-detail-list-page" id="contacts-detail-list-page-button" data-role="button" data-icon="arrow-d" data-iconpos="right" data-mini="true" data-inline="true">Details</a>
        </div>
        <div data-role="content">
            <ul data-role="listview" id="contacts-display-listview" class="sortedList" data-autodividers="true" data-filter="true">
                <!-- The list of Contacts gets inserted here.  -->
            </ul>
        </div>
        <div data-role="footer" data-theme="b">
            <h4>Red Hat JBoss Quickstarts</h4>
        </div>
    </div>
    
    <!-- This is the detail view of the main list.  -->
    <div data-role="page" id="contacts-detail-list-page" data-theme="b">
        <div data-role="panel" id="contacts-detail-list-page-menu-panel">
            <ul data-role="listview" id="contacts-detail-list-page-menu-panel-listview">
                <li><a href="#contacts-add-page">Add Contact</a></li>
                <li><a href="#contacts-list-page">List view</a></li>
                <li><a href="#about-page">About</a></li>
            </ul>
        </div>
        <div data-role="header" data-position="fixed" data-theme="b">
            <a href="#contacts-detail-list-page-menu-panel" id="contacts-detail-list-page-menu-button" data-role="button" data-icon="bars" data-iconpos="notext">Menu</a>
            <h1>Contacts
            </h1>
            <a href="#contacts-list-page" id="contacts-list-page-button" data-role="button" data-icon="arrow-d" data-iconpos="right" data-mini="true" data-inline="true">List</a>
        </div>
        <div data-role="content">
            <ul data-role="listview" id="contacts-display-detail-listview" class="sortedList" data-autodividers="true" data-filter="true">
                <!-- The list of Contacts gets inserted here.  -->
            </ul>
        </div>
        <div data-role="footer" data-theme="b">
            <h4>Red Hat JBoss Quickstarts</h4>
        </div>
    </div>
    
    <!-- This is for the Info/About page. -->
    <div data-role="page" id="about-page" data-theme="b">
        <div data-role="panel" id="contacts-about-page-menu-panel">
            <ul data-role="listview" id="contacts-about-page-menu-panel-listview">
                <li><a href="#contacts-add-page">Add Contact</a></li>
                <li><a href="#contacts-list-page">List view</a></li>
                <li><a href="#about-page">About</a></li>
            </ul>
        </div>
        <div data-role="header" data-position="fixed" data-theme="b">
            <a href="#contacts-about-page-menu-panel" id="contacts-about-page-menu-button" data-role="button" data-icon="bars" data-iconpos="notext" data-mini="true" data-inline="true">Menu</a>
<!--             <a href="#contacts-list-page" data-role="button" data-rel="back" data-icon="back">Back</a> -->
            <h1>About</h1>
        </div>
        <div data-role="content" data-theme="b">
            <p>Learn more about JBoss Enterprise Application Platform 6.</p>
            <ul>
                <li><a href="https://access.redhat.com/site/documentation/JBoss_Enterprise_Application_Platform/">Documentation</a></li>
                <li><a href="http://red.ht/jbeap-6">Product Information</a></li>
            </ul>
        </div>
    </div>
    
    <!-- A blank form for adding a contact. -->
    <div data-role="page" id="contacts-add-page" data-theme="b">
        <div data-role="panel" id="contacts-add-page-menu-panel">
            <ul data-role="listview" id="contacts-add-page-menu-panel-listview">
<!--                 <li><a href="#contacts-add-page">Add Contact</a></li> -->
                <li><a href="#contacts-list-page">List view</a></li>
                <li><a href="#about-page">About</a></li>
            </ul>
        </div>
        <div data-role="header" data-position="fixed" data-theme="b">
            <a href="#contacts-add-page-menu-panel" id="contacts-add-page-menu-button" data-role="button" data-icon="bars" data-iconpos="notext" data-mini="true" data-inline="true">Menu</a>
<!--             <a href="#contacts-list-page" id="contacts-add-back-button" data-role="button" data-rel="back" data-icon="back">Back</a> -->
            <h1>Add Contact</h1>
        </div>
        <div data-role="content">
            <!-- 
                In order to catch server side errors we need to disable the automatic page tranisition when the form is 
                  submitted.  This is by adding data-ajax="false" to the form element.  We then manually change the page
                  in the function that handles form submission. Thus allowing us to control when the form transitions to
                  another page. 
             -->
            <form name="contacts-add-form" id="contacts-add-form" class="contact_info" method="post" data-ajax="false">
                <div>
                    <label for="contacts-add-input-firstName">First Name:</label>
                    <input name="firstName" id="contacts-add-input-firstName" class="name" data-clear-btn="true" value="" placeholder="Enter a first name." type="text"/>
                </div>
                <div>
                    <label for="contacts-add-input-lastName">Last Name:</label>
                    <input name="lastName" id="contacts-add-input-lastName" class="name" data-clear-btn="true" value="" placeholder="Enter a last name." type="text"/>
                </div>
                <div>
                    <label for="contacts-add-input-tel">Phone:</label>
                    <input name="phoneNumber" id="contacts-add-input-tel" class="phoneNumber" data-clear-btn="true" value="" placeholder="(NNN) NNN-NNNN" type="tel"/>
                </div>
                <div>
                    <label for="contacts-add-input-email">Email:</label>
                    <input name="email" id="contacts-add-input-email" class="email" data-clear-btn="true" value="" placeholder="name@company.domain" type="email"/>
                </div>
                <div>
                    <label for="contacts-add-input-date">Birth Date:</label>
                    <input name="birthDate" id="contacts-add-input-date" class="birthDate" data-clear-btn="true" value="" placeholder="YYYY-MM-DD" type="date" min="1900-01-01"/>
                </div>
                <input id="submit-add-btn" data-inline="true" type="submit" value="Save" />
                <input id="clear-add-btn" data-inline="true" type="reset" value="Clear" data-theme="c" />
                <input id="cancel-add-btn" data-inline="true" type="reset" value="Cancel" data-theme="c" />
            </form>
        </div>
        <div data-role="footer" data-position="fixed" data-theme="b">
            <fieldset class="ui-grid-b">
                <div class="ui-block-a">
                    <a data-role="button" onclick="$('#submit-add-btn').trigger('click');">Save</a>
                </div>
                <div class="ui-block-b">
                    <a data-role="button" onclick="$('#clear-add-btn').trigger('click');" data-theme="c">Clear</a>
                </div>
                <div class="ui-block-b">
                    <a href="#contacts-list-page" data-role="button" onclick="$('#cancel-add-btn').trigger('click');" data-theme="c">Cancel</a>
                </div>
            </fieldset>             
        </div>
    </div>
    
    <!-- A pre-populated form for editing a contact -->
    <div data-role="page" id="contacts-edit-page" data-theme="b">
        <div data-role="panel" id="contacts-edit-page-menu-panel">
            <ul data-role="listview" id="contacts-edit-page-menu-panel-listview">
                <li><a href="#contacts-add-page">Add Contact</a></li>
                <li><a href="#contacts-list-page">List view</a></li>
                <li><a href="#about-page">About</a></li>
            </ul>
        </div>
        <div data-role="header" data-position="fixed" data-theme="b">
            <a href="#contacts-edit-page-menu-panel" id="contacts-edit-page-menu-button" data-role="button" data-icon="bars" data-iconpos="notext" data-mini="true" data-inline="true">Menu</a>
<!--             <a href="#contacts-list-page" id="contacts-edit-back-button" data-role="button" data-rel="back" data-icon="back">Back</a> -->
            <h1>Edit Contact</h1>
            <a href="#contact-delete-dialog" id="contacts-delete-button" data-role="button" data-icon="delete" data-mini="true" data-inline="true">Delete</a>
        </div>
        <div data-role="content">
            <!-- 
                PUT and DELETE are not supported in an HTML form, you must use POST.  
                  Please see http://www.w3.org/TR/2010/WD-html5-diff-20101019/#changes-2010-06-24 
                
                In order to catch server side errors we need to disable the automatic page tranisition when the form is 
                  submitted.  This is by adding data-ajax="false" to the form element.  We then manually change the page
                  in the function that handles form submission. Thus allowing us to control when the form transitions to
                  another page. 
             -->
            <form name="contacts-edit-form" id="contacts-edit-form" class="contact_info" method="post" data-ajax="false">
                <div>
                    <label for="contacts-edit-input-firstName">First Name:</label>
                    <input name="firstName" id="contacts-edit-input-firstName" class="name" data-clear-btn="true" value="" placeholder="Enter a first name." type="text"/>
                </div>
                <div>
                    <label for="contacts-edit-input-lastName">Last Name:</label>
                    <input name="lastName" id="contacts-edit-input-lastName" class="name" data-clear-btn="true" value="" placeholder="Enter a last name." type="text"/>
                </div>
                <div>
                    <label for="contacts-edit-input-tel">Phone:</label>
                    <input name="phoneNumber" id="contacts-edit-input-tel" class="phoneNumber" data-clear-btn="true" value="" placeholder="(NNN) NNN-NNNN" type="tel"/>
                </div>
                <div>
                    <label for="contacts-edit-input-email">Email:</label>
                    <input name="email" id="contacts-edit-input-email" class="email" data-clear-btn="true" value="" placeholder="name@company.domain" type="email"/>
                </div>
                <div>
                    <label for="contacts-edit-input-date">Birth Date:</label>
                    <input name="birthDate" id="contacts-edit-input-date" class="birthDate" data-clear-btn="true" value="" placeholder="YYYY-MM-DD" type="date" min="1900-01-01"/>
                </div>
                <div>
                    <input name="id" id="contacts-edit-input-id" value="" type="hidden"/>
                </div>
                <input id="submit-edit-btn" data-inline="true" type="submit" value="Save" />
                <input id="clear-edit-btn" data-inline="true" type="reset" value="Clear" data-theme="c" />
                <input id="cancel-edit-btn" data-inline="true" type="reset" value="Cancel" data-theme="c" />
            </form>
        </div>
        <div data-role="footer" data-position="fixed" data-theme="b">
            <fieldset class="ui-grid-b">
                <div class="ui-block-a">
                    <a data-role="button" onclick="$('#submit-edit-btn').trigger('click');">Save</a>
                </div>
                <div class="ui-block-b">
                    <a data-role="button" onclick="$('#clear-edit-btn').trigger('click');" data-theme="c">Clear</a>
                </div>
                <div class="ui-block-b">
                    <a href="#contacts-list-page" data-role="button" onclick="$('#cancel-edit-btn').trigger('click');" data-theme="c">Cancel</a>
                </div>
            </fieldset>             
        </div>
    </div>
    
    <!-- A delete confirmation dialog. -->
    <div data-role="dialog" id="contact-delete-dialog">
        <div data-role="header">
            <h1>Delete Contact</h1>
        </div>
        <div data-role="content">
            <!-- PUT and DELETE are not supported in an HTML form.  Please see http://www.w3.org/TR/2010/WD-html5-diff-20101019/#changes-2010-06-24 
                 That is why we are using a dialog with simple Yes/No.  The ID of the Contact to be deleted will programatically be 
                 pulled in from the Update form.
            -->
            <h3>Are you sure you want to Delete?</h3>
            <a href="#contacts-list-page" id="confirm-delete-button" data-role="button" data-inline="true">Yes</a>
            <a href="#contacts-list-page" id="cancel-delete-button" data-role="button" data-inline="true">No</a>
        </div>
    </div>
</body>
</html>